"use strict";!function(e){e(".site_menu-icon").click(function(){e("#site_menu").toggleClass("active"),e("#header_menu").toggleClass("active")}),e(".nav-item").hover(function(){e(this).has(".header_menu-sub")&&e(this).find(".header_menu-sub").toggleClass("active")},function(){e(this).has(".header_menu-sub")&&e(this).find(".header_menu-sub").toggleClass("active")}),e(".nav-item").click(function(){e(this).has(".header_menu-sub")&&e(this).find(".header_menu-sub").toggleClass("extend")}),e(".search-content button").on("click",function(){let t=e(".search-content input").val();t&&(window.location="/tim-kiem/"+t)}),e("input[type=search]").on("search",function(){this.value&&(window.location="/tim-kiem/"+this.value)}),e("#m-search").on("click",function(){e("#search").toggleClass("active")}),e(".btn-go-page").click(function(){let t=e(".input-page").val();if(t&&/filter/.test(window.location.pathname)){window.location=$(".ap__-btn-next a").attr("href").replace(/page=\S+/,"page="+t);return}t&&(/trang-\d+/.test(window.location.pathname)?window.location=window.location.pathname.replace(/trang-\S+/,"trang-"+t):window.location=window.location.pathname+"/trang-"+t)}),e("#prevEp").click(function(){let t=e("#prevEp").attr("data-current-episode"),a=e("#prevEp").attr("data-episodes"),n=Number(t)-1;n>0&&n<=a&&(/tap-\d+/.test(window.location.pathname)?window.location=window.location.pathname.replace(/tap-\S+/,"tap-"+n):window.location=window.location.pathname+"/tap-"+n)}),e("#nextEp").click(function(){let t=e("#nextEp").attr("data-current-episode"),a=e("#nextEp").attr("data-episodes"),n=Number(t)+1;n>0&&n<=a&&(/tap-\d+/.test(window.location.pathname)?window.location=window.location.pathname.replace(/tap-\S+/,"tap-"+n):window.location=window.location.pathname+"/tap-"+n)}),e("#comment").click(function(){e("html, body").animate({scrollTop:e(".block_area-comment").offset().top},2e3)}),e("#capture").click(function(){let t=document.createElement("canvas"),a=document.getElementById("player_html5_api"),n=e(".modal-content")[0],i=e("#modal");t.width=768,t.height=432,t.getContext("2d").drawImage(a,0,0,t.width,t.height),n.appendChild(t),i.modal("show")}),e("#modal").on("hide.bs.modal",function(t){e(".modal-content").empty()}),$(document).on("click",".block_area-content .dropdown-menu",function(e){e.stopPropagation()}),$("#btn-filter-submit").click(function(){let e="/filter?",t=[],a=[],n=[],i=[],o,c,s,l;(l=$("input[name=filter-keyword]").val())&&(e+="keyword="+l+"&"),$(".checkbox-genre:checked").each(function(e){t[e]=$(this).val()}),t.length>0&&(e+="genre="+t.join(",")+"&"),$(".checkbox-season:checked").each(function(e){a[e]=$(this).val()}),a.length>0&&(e+="season="+a.join(",")+"&"),$(".checkbox-year:checked").each(function(e){n[e]=$(this).val()}),n.length>0&&(e+="year="+n.join(",")+"&"),$(".checkbox-type:checked").each(function(e){i[e]=$(this).val()}),i.length>0&&(e+="type="+i.join(",")+"&"),null!=(o=$("input[name=radio-status]:checked").val())&&"all"!=o&&(e+="status="+o+"&"),null!=(s=$("input[name=radio-episodes]:checked").val())&&"all"!=s&&(e+="episodes="+s+"&"),null!=(c=$("input[name=radio-sort]:checked").val())&&"all"!=c&&(e+="sort="+c+"&"),e.endsWith("&")&&(e=e.substring(0,e.length-1)),window.location=e}),$("#login").submit(function(e){e.preventDefault();let t=$("#username").val(),a=$("#password").val();$.ajax({url:"/api/v1/users/login",type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({username:t,password:a}),success:function(e){alert("Login success")},error:function(e){alert(e.responseJSON.message)}})}),$("body").on("click",function(){let e=["https://shope.ee/8zZX7sNTOq","https://shope.ee/3AbkBCi3Wq","https://shope.ee/9KCNWVd7lB"],t=new Date().getTime(),a=JSON.parse(localStorage.getItem("click_time"));if(void 0!=a){if(t-a>36e5){let n=JSON.parse(localStorage.getItem("url_key"));n=n>e.length-1?0:n,localStorage.setItem("url_key",JSON.stringify(n+1)),localStorage.setItem("click_time",JSON.stringify(t)),window.open(e[n],"_blank")}}else localStorage.setItem("click_time",JSON.stringify(t)),localStorage.setItem("url_key",JSON.stringify(1)),window.open(e[0],"_blank")}),$(".server-item").click(function(e){e.preventDefault(),$(".server-item a").each(e=>{$(".server-item a").get(e).classList.remove("active")}),$(this).find("a")[0].classList.add("active");var t=videojs("player");let a=$(this).attr("data-server-id");"1"===a?(t.pause(),t.src({type:"video/mp4",src:$(this).attr("data-url")})):"2"===a&&(t.pause(),t.src({type:"application/x-mpegURL",src:$(this).attr("data-file")}))})}(jQuery);